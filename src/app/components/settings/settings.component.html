<div class="loader-container" *ngIf="">
  <div class="loader"></div>
</div>

<div class="settings__screen">
  <div class="settings_container">
    <div class="settings__main_screen">
      <!-- header -->
      <app-custom-header></app-custom-header>
      <div class="main_screen__main_container">
        <div class="main_container__heading">
          <h3>Settings</h3>
          <!-- <h3>Edit</h3> -->
        </div>
        <div class="main_container__settings_container">
          <div class="settings_container__tabs">
            <div class="tab">
              <fa-icon [icon]="faUser" class="icon"></fa-icon>
              <span>User Management</span>
            </div>
          </div>
          <button class="create_user__button" (click)="toggleCreateUserForm()" *ngIf="user.role==='admin'">
            Create User
            <fa-icon [icon]="faPlus" class="icon"></fa-icon>
          </button>
          <form
            class="create_user__form"
            *ngIf="showCreateUserForm"
            (ngSubmit)="onSubmit()"
          >
            <h2>Create User</h2>
            <div class="fields">
              <div class="field">
                <label for="firstName">First name: </label>
                <input
                  type="text"
                  id="firstName"
                  placeholder="First name"
                  [value]="firstName"
                  (input)="onChange('firstName', $event)"
                />
              </div>
              <div class="field">
                <label for="lastName">Last name: </label>
                <input
                  type="text"
                  id="lastName"
                  placeholder="Last name"
                  [value]="lastName"
                  (input)="onChange('lastName', $event)"
                />
              </div>
              <div class="field">
                <label for="userName">Email: </label>
                <input
                  type="email"
                  id="userName"
                  placeholder="Email"
                  [value]="userName"
                  (input)="onChange('userName', $event)"
                />
              </div>
              <div class="field">
                <label for="role">Role: </label>
                <input
                  type="text"
                  id="role"
                  placeholder="Role"
                  [value]="role"
                  (input)="onChange('role', $event)"
                />
              </div>
              <div class="field">
                <label for="password">Password: </label>
                <input
                  type="tel"
                  id="password"
                  placeholder="Password"
                  [value]="password"
                  (input)="onChange('password', $event)"
                />
              </div>
            </div>
            <button
              class="create_user__form_button"
              type="submit"
              (input)="onChange('firstName', $event)"
            >
              Create
            </button>
          </form>

          <div class="users_list__table">
            <h2>Users</h2>
            <table>
              <thead>
                <tr>
                  <th>Firstname</th>
                  <th>Lastname</th>
                  <th>Email</th>
                  <th>Role</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let user of users">
                  <td>{{user.firstname}}</td>
                  <td>{{user.lastname}}</td>
                  <td>{{user.username}}</td>
                  <td>{{user.role}}</td>
                  <td></td>
                </tr>
                <!-- <tr>
                  <td>JaneSmith789</td>
                  <td>janesmith789@example.com</td>
                  <td>555-5678</td>
                  <td>User</td>
                  <td>row item</td>
                </tr> -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
